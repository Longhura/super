local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")

local Player = Players.LocalPlayer
local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local UIStroke = Instance.new("UIStroke")
local CloseButton = Instance.new("TextButton") -- Nút đóng

ScreenGui.Parent = Player:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(33, 33, 33)
Frame.Position = UDim2.new(0.5, -100, 0.5, -50)
Frame.Size = UDim2.new(0, 200, 0, 150)
Frame.Active = true
Frame.Draggable = true

-- Cấu hình UIStroke (viền)
UIStroke.Parent = Frame
UIStroke.Thickness = 3
UIStroke.Color = Color3.fromRGB(255, 0, 0) -- Màu khởi đầu
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Nút đóng (Dấu X)
CloseButton.Parent = Frame
CloseButton.Size = UDim2.new(0, 25, 0, 25) -- Kích thước vừa đủ
CloseButton.Position = UDim2.new(1, -30, 0, 5) -- Góc trên phải
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.TextSize = 18
CloseButton.BorderSizePixel = 0
CloseButton.AutoButtonColor = true
CloseButton.ZIndex = 2 -- Hiển thị trên cùng

-- Hiệu ứng hover (đổi màu khi di chuột vào)
CloseButton.MouseEnter:Connect(function()
    CloseButton.BackgroundColor3 = Color3.fromRGB(255, 50, 50)
end)
CloseButton.MouseLeave:Connect(function()
    CloseButton.BackgroundColor3 = Color3.fromRGB(200, 0, 0)
end)

-- Danh sách màu cầu vồng
local colors = {
    Color3.fromRGB(255, 0, 0),   -- Đỏ
    Color3.fromRGB(255, 127, 0), -- Cam
    Color3.fromRGB(255, 255, 0), -- Vàng
    Color3.fromRGB(0, 255, 0),   -- Xanh lá
    Color3.fromRGB(0, 255, 255), -- Xanh dương nhạt
    Color3.fromRGB(0, 0, 255),   -- Xanh dương
    Color3.fromRGB(139, 0, 255)  -- Tím
}

-- Hàm đổi màu viền liên tục
local function cycleRainbow()
    local index = 1
    while ScreenGui.Parent do -- Chạy miễn là GUI còn tồn tại
        local nextColor = colors[index]
        local tween = TweenService:Create(UIStroke, TweenInfo.new(0.5, Enum.EasingStyle.Linear), { Color = nextColor })
        tween:Play()
        tween.Completed:Wait() -- Đợi hiệu ứng hoàn tất

        index = index % #colors + 1 -- Chuyển sang màu tiếp theo
    end
end

-- Hàm đóng GUI
local function closeGui()
    ScreenGui:Destroy() -- Xóa GUI
end

-- Khi nhấn nút "X", đóng GUI
CloseButton.MouseButton1Click:Connect(closeGui)

-- Chạy hiệu ứng viền cầu vồng
task.spawn(cycleRainbow)
